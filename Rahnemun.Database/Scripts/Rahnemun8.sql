CREATE TABLE [dbo].[Rahnemun_Sessions] (
    [Id] [int] NOT NULL IDENTITY,
    [StartTime] [datetime] NOT NULL,
    [StopTime] [datetime],
    [StopType] [tinyint],
    [Rating] [tinyint],
    [StarterId] [int] NOT NULL,
    [InviteeId] [int] NOT NULL,
    [CategoryId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Rahnemun_Sessions] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_StarterId] ON [dbo].[Rahnemun_Sessions]([StarterId])
CREATE INDEX [IX_InviteeId] ON [dbo].[Rahnemun_Sessions]([InviteeId])
CREATE INDEX [IX_CategoryId] ON [dbo].[Rahnemun_Sessions]([CategoryId])
CREATE TABLE [dbo].[Rahnemun_Messages] (
    [Id] [int] NOT NULL IDENTITY,
    [Text] [nvarchar](max) NOT NULL,
    [ByStarter] [bit] NOT NULL,
    [SentTime] [datetime] NOT NULL,
    [SeenTime] [datetime],
    [MediaId] [int],
    [SessionId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Rahnemun_Messages] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_SessionId] ON [dbo].[Rahnemun_Messages]([SessionId])
CREATE TABLE [dbo].[Rahnemun_StopRequests] (
    [Id] [int] NOT NULL IDENTITY,
    [RequestTime] [datetime] NOT NULL,
    [RejectTime] [datetime],
    [SessionId] [int] NOT NULL,
    CONSTRAINT [PK_dbo.Rahnemun_StopRequests] PRIMARY KEY ([Id])
)
CREATE INDEX [IX_SessionId] ON [dbo].[Rahnemun_StopRequests]([SessionId])
ALTER TABLE [dbo].[Rahnemun_Sessions] ADD CONSTRAINT [FK_dbo.Rahnemun_Sessions_dbo.Rahnemun_Users_InviteeId] FOREIGN KEY ([InviteeId]) REFERENCES [dbo].[Rahnemun_Users] ([Id])
ALTER TABLE [dbo].[Rahnemun_Sessions] ADD CONSTRAINT [FK_dbo.Rahnemun_Sessions_dbo.Rahnemun_Users_StarterId] FOREIGN KEY ([StarterId]) REFERENCES [dbo].[Rahnemun_Users] ([Id])
ALTER TABLE [dbo].[Rahnemun_Sessions] ADD CONSTRAINT [FK_dbo.Rahnemun_Sessions_dbo.Rahnemun_Categories_CategoryId] FOREIGN KEY ([CategoryId]) REFERENCES [dbo].[Rahnemun_Categories] ([Id])
ALTER TABLE [dbo].[Rahnemun_Messages] ADD CONSTRAINT [FK_dbo.Rahnemun_Messages_dbo.Rahnemun_Sessions_SessionId] FOREIGN KEY ([SessionId]) REFERENCES [dbo].[Rahnemun_Sessions] ([Id]) ON DELETE CASCADE
ALTER TABLE [dbo].[Rahnemun_StopRequests] ADD CONSTRAINT [FK_dbo.Rahnemun_StopRequests_dbo.Rahnemun_Sessions_SessionId] FOREIGN KEY ([SessionId]) REFERENCES [dbo].[Rahnemun_Sessions] ([Id]) ON DELETE CASCADE
INSERT [dbo].[__MigrationHistory]([MigrationId], [ContextKey], [Model], [ProductVersion])
VALUES (N'201502061541264_Rahnemun8', N'Rahnemun.Database.RahnemunMigrations.Configuration',  0x1F8B0800000000000400ED5D595324B9117E7784FF43453FED3A666960BC13E309D80D686097F0001334B3F61B21AA44539EBAB60E4C87C3BFCC0FFE49FE0B96EA50E92EA98EEE667782175A472A954AA532757CF5BFFFFCF7E8C79730709E619AF971743C3BD8DB9F39307263CF8F56C7B3227FFCEEFDECC71FFEF887A3732F7C717E69CABDC5E550CD283B9E3DE579F2613ECFDC2718826C2FF4DD34CEE2C77CCF8DC339F0E2F9E1FEFE5FE60707738848CC102DC739BA2DA2DC0F61F903FD5CC4910B93BC00C155ECC120ABD351CEB2A4EA5C8310660970E1F1EC163C45302CA2BDB338047E34734E021F20369630789C39208AE21CE488C90F9F33B8CCD3385A2D13940082BB750251B9471064B066FE435BDCB41FFB87B81FF3B66243CA2DB21C716447F0E06D2D98395FBD97786744704874E748C4F91AF7BA14DFF16C0172B88AD3F5CCE11BFBB008525C5090EE5E53E78DC3E5BC21CA807406FFBD7116459017293C8E6091A72078E37C2A1E02DFFD2B5CDFC55F60741C15414073887844794C024AFA94C6094CF3F52D7CACF9BEF466CE9CAD37E72B926A549DAA479751FEF670E65CA3C6C14300890250BD5FE6710A7F82114C516FBD4F20CF611A611AB014A1D03AD7D60224D588550D22A5439367E65C81978F305AE54FC7B3EFD16CB9F05FA0D724D43C7C8E7C34D5509D3C2DA084477DBB67307353BFABED83FDFD695AF7B32400EB9BD48369D3FCE93AB727D4A8D84F695C24DDE3C611BB06CFFEAA1C461DD999730B83B254F6E42795B1D8634ADCD7BF7C982169A571781B073C15AACCFD1D48573047CCC61D05977191BA367C231ED14402519E69B9BE670A8A1CD3F984099E5BA650D325534E9730C306A083CDB69484C72653CD202921E3EE68DE1A3923D3572B83BDFD2B2B7E35823B68047B9BA12ECB515A82B1CD864ACF95F6A59FBA93596DA5EBA4D6688AEE9C820CD61A8165877CB274A61DCF65025DE4AC6185DBB0269D82E8CB02A4DE75AC5B4DDF4DD5F489EBC6C82BD6B6FED6ACE3DD8DE1FF860B58DFCEB957B8604BCE09FAF9582D1C20387F41393E0A6A743D9E8A918FBE0BA30C5E17E1436B9FA61A59BAD70B94EE3FFA6804B0651ADE6F7DCB7F8BD32F279E97A2D6B59D9C44C6B8F14F4F7104B573671AA381963DE0FAADB5EAE5019F24491A3F43B25A9FC6686D00516F4F7A7C277A3C4F54E5374BDDD55E8B5FED31DAAC7C7595AFFE9DBAAD650ED2FCCE6F978D3344A6FA6DA9A58891444EC8A01EAA41E638D6C17AE4DA3C3D8D5B240B6C17E8C96AD06F985A4F297EA8A2673F877028996DCD70B3204E39B78530CF94BB5A6C52E6B02F795F15F064FCC9F20516A5856CB9BC4215C14A112ED499F7C42CB51C725902737CBE2D5FB5EEAAA55715504B8FCB974B8F2F64CF659CDCC25F0B9829763CA80232294AB205466565062D32652063B1C2E0F2BFC7E5E51AB9655D460D1BFF2C076142ECB21F016C91F0B14091A6C8755F5F952E5AE9BF315EDD7BB953D783D3451C26450E453971DC5EF8699677C44F86DEBC6D2C01B6D4301216B5BB52CEC926C9921289093FC267183014F92C4BCAD7655D10B44A2B8D76468875AE40EAE72040662F2F32A60B5C8EEDDA0E8320E90C630E0EC6D802F0D3FC09FB5D839DB95BB8F23334814621768526A6A6EB87E3C4AA384AF603F8C977B1A5158C9C9D6BE26937C17BB928FC16A1D68FB173050CB8B57509A4DCAAFC865E4B6DED05D9ACB67595DFE3826B1ACFDDC1975C33D7DE4FB41F76BA264EE9B0BD8E25EAE638E12884519F70F40A7A3EE8B21EF213B3F1A237E20E0F0B3CF849AC0A4CFAEDC7B4BEB7D59E4C5BEDEB3C56B7558B6894A9700BFF015D05A91D52EC1EF120AFE0BA98D14CC98B9052F1C61BBECC2E02B06A2F1919683B0A3BC238AAFD694AD1ABF4DEE76E9F31B9608DCC3AB5D5C5CAFE0AE23309E2D40688DF5F4050A01FFBC23831652F6048973E10455609472330DED9EF2F3896D2F604F829F54314B42EDD27B4A0994AF2CAF7BC0072750EF4757EF6574F5C0D71DDE15883A7C07D82419C922A6FF55584F27FEEE808C8CA35BD2EFDBDBEF459EC22A357460C7585773D74888BB6FAAB1043687B1AB44425CD2721623AF5F16EC58059286C9EF79721476A6229B25D3DC9B2D8F54B0665D77DE82B1AAC40CF23CF31BDAFD146F9DC5DA22BD40D3F418CA365020F03EF52DC4467308039744EDCEA5AE802642EF0C4B5108D9867CD1FD9E814F9E359FB93D022F272608ADD0C10E0D337340A7E948B2E911FB97E0202435171F50D9D2ADC7FD2129F730613BC3C46B9A1344C58106E1D8AFC9066B971EA12DBD19CD248BDA24A3708544AA0DF2DE02ED9087AC90F7E075D8962115F6B12BDD2F56E033AA5138251F3ED01DFF63489DFBCD18EB8722767A026290F8D36AA498ADE6D4A93144230699E3A71DE8A26F1FB06AAC1566E22501BE2CDD65DD738ABA99A6BCFA84B6F2FC553F0BE019D538C8591BAB5A1FB56D44D16CDAB94431BDA530A42EF3899AB9EF620F915A89F86FF0DA8A0666C5E831A4A2FB375B9E3F23716DDAEB86E0DD5DF9AA3685377BC2775F4659DDCA0932F93838D83BF7D8DEA74C734CF6146D2A5ED3963CABE6D5285FAB8611BD69F6A9F19D5C9510DB2CBD3ECA29C811CE0BCF2D04ED895411E67BD3193D5C772BC4260DA4B984B1EB8B4FBDB829E096A25A55245D03A4AF5464907B9F6C459204434B48304F6BC65F5AB30A6A3727B894FA84FDCD8AE2E3037D9C46ED06E09478AD20A858499974654F1AE5749BCEA5A6C7A91FE89832DCC088BBD2A916CD927DE29624562202EF96D0B5154DD9B2EE6DB2E545F6AEDD34846BBD142516A991F4726C29D0E854CB4DB07E61B08F632516D194C2313E1605C14873606368A8229D65BCBA291832AEE9D4604D22354510C9DB1997174467783B1921A91E8E2B169C4227FD1A236B6EA60C13C5C30B286E61142D7E41B22159D01E9F0760DFDDD01C218D9783427FFC423237947F30A94A44E389A2BD04B8EAE4092F8D18A4233A9539C650565B2F86E690FF3115634E62E2361DE7F242DE183D615E472F16D670F963799B167F900F061DFC20B856232FF53E103352D0A2EA638768D5FD454C1FFB3FE2EFFFC5EE2B1D7952F50F742ECF297F768241E8B58D5C1B0322000A9E4DACE220E8A3052471FEADAE4013C4D82249AD361503D685A4C86053DE6813C4390C9B1E9297774C6F6B8E35C0DCF186EEC84E84A501161BF8C553A1B956C5CD831D4B28A6CFAEBA6A2FE8E2B686F85DAD2C057EBE0A0F16EF7DAEC07BB21A67316A61A730A4D812642259BD3A2F111686274BA1D350AF280274865D9D1AC1EC8F0E4AA54734A1476014D8A4A36A7A5C222A009ABCA98B7C2010DD0C4B9AC7E9CB378022ADED952E62D31F801347126C38E1E8104E0E9910C2BDB593FF3E78C679D6A4EA97DEB4F536A53ED9761D50A3CCDE2DB61392F33FCFFCDE337B20790DFF6B09E22628C4E26C3AC25F510912642259BD3A29E09D2B4A8648BB90D64A4DA54734ACD45659A4E93D6C33AD6B777A526B2CE33A74ABFE0A329D2E9E6D4B8DBA134412ECB62C6D12FF49829476758AC57ED333C66C16A93CD69B10FF168726C8E8504CBD7788CE0CA14BBF5837D69C7AF1B6CEECE788C9A3D0C73A751B1616660F394352772125B680FC6496C936D6835E01E2CA926D59252792B59A02401FAD0516A403F984951A7594AA9BA962548497E5B4B335EED654166D8D47708D5B4B6E306F49C58642B7CC8C46A8EE3EC2796B2E644FE44795CCBB812658AC50AD13E9764568836D94281C98B49467F49AA0DA5E6C9244BA949B558639A4794CC32D324DA70446E0FB12C292F156D6F6DA18F3F06AD2FD471728F3546577B9AE9C03C55643D142AC3865EFB5C9125D7A6BF6215124E20F822A4757212C19D381CD5BBFFDDA0EAC271405564E620213DFB1E3E0A58AE911319EEE1027BCB5F8345E0437CF5AC29700522FF110F62F9766776B87F70C841B3EF0E4CFA3CCBBC40727A4223A84A4F0F36F164D8C752ED7C146C0F5348237146CF20759F402A00240E47209792AE50264740F6454EDBBA14D03818E3BE1420F712C5C32FC7B37F95753F38977FBFE7AABF714AA63E38FBCEBF3B58E98950FD55EB26510C3B78AFED0C82A53004F0AC34FE67FD390FE580B65057968D09D857D2217D6B3FA43CB4D5587459E4AABED6438E5AD5979A8854A5B09934E5DEC054BD2DA688462567F3C0964D017CCA43FFE763814FF52646834F497B7AC82D6243B0A6B811114959A3DDFE36560C0165B6F770F228B332422623C8A3CE4AE69309191678B62711018BD6D47F21152D3C17C9D8F318B6A6CD938A839A17B16F6DDDB7693C37E9A6D2AB9D81342E586306BF09C1CBB7C3A1BE1E7CFB658887F9EA6F0F3898AFBEF68083FDEA338B79AC24E359DC549C428B95FB41AF569325C858033C0D1E19ABF77AB293A3DF7D4769636A60B29E0C5B48844FCC8C15988A5F9091BBCCEFC6F9408C4190D4E77B3006D2E8F5F997F1768654B7A5C66E47FAF19691A4AEBE3565D18B9E9F665174C15E40922FAF8C3597F80FABF48D63F96FABF4714276C4F31C1BE76A6750ADB6065FB5C947C8BF6554AA41A041E4FDD9460182360289A1BC012469EAB5E1477D1DF3C163FE5A909E2C466BA29582BCC0EF032ED50F4CC766EE8E02DEF42A6072ACD09AB6AE360CE2425F80A85D571FFD3DA0DD53217B5C9CC138389B5F6EACBCBE0D2E39DB4745221B4CF778305A72F718C1FDBE7443EEE27B830DA911DD11696B34417901B681FDBD3DB18D9DF655CC5E261AB7BBAB286D83CDC728EAF10A0D4B6FFDD809EC2C11E2801F5F399E951613ABBA17793CF31EF08E57B585D38A498D66A46AACDE6E51B658E79B34ABC06692A2642941B2B40DC9014578FA6461159A2039DA5694601D7C432400101A2239DA8654B83C3A5CAF2E582F7DCF34C83742A3729B22B42E2FA6D717BA24C7C5D671C8D4A863125322B3F53208102166D8256C3101B347DB516E7631EFC546EAE6347061BBD4CD5111C02C5895EF69481E280DEFE234085F3DBB2A31A0C22394E15D9E0CA7CAC8A86C507D87C45032918C15920D9CF3BA154F8DA432A2DE50640F46847DB3579FA92561016E263E21428E7A11E1AB2FD5AF3398F9AB96C411A219419771D14999CBE8316EA2058EA3A68870DD2A071EF2DF4FF00939707394EDE27984EF52D65F3E3A0F1FA07719DD147952E4A8CB307C0818F1E28843D77E89E0C6F27C7453BE5CC8C6E80262D3C7B7856EA2D3C20FDA2F365D484E7E1524702853DF8CC26399E31B52AB35A1247E645B45A8161F89C0EE609804F8DAC14DB404CFB00F6F685A7F842BE0AE9B97606A22DD03C18AFDE8CC07AB1484594DA3AD8F7E221DF6C2971FFE0F1EC3C38DC4940000 , N'6.1.1-30610')

